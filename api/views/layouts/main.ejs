<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="<%= locals.description || 'Backend API - A collection of useful API endpoints and tools' %>">
    <meta name="theme-color" content="#375a7f">

    <!-- Preconnect to external domains for better performance -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>

    <!-- Critical CSS first -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.1.3/dist/darkly/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.0/font/bootstrap-icons.css"
          integrity="sha384-7ynz3n3tAGNUYFZD3cWe5PDcE36xj85vyFkawcF6tIwxvIecqKvfwLiaFdizhPpN"
          crossorigin="anonymous">
    <link rel="stylesheet" href="/css/main.css">

    <title><%= locals.title || 'Backend API' %></title>

    <!-- Custom Page CSS -->
    <%- locals.customStyles || '' %>
  </head>
  <body>
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="skip-link visually-hidden-focusable">
      Skip to main content
    </a>

    <!-- Navigation Menu -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top" aria-label="Main navigation">
      <div class="container">
        <a class="navbar-brand" href="/">
          <i class="bi bi-api" aria-hidden="true"></i> Backend API
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="bi bi-house" aria-hidden="true"></i> Home
              </a>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="myDataDropdown" role="button"
                 data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-person-circle" aria-hidden="true"></i> My Data
              </a>
              <ul class="dropdown-menu" aria-labelledby="myDataDropdown">
                <li><a class="dropdown-item" href="/data/git"><i class="bi bi-github" aria-hidden="true"></i> My GitHub Data</a></li>
                <li><a class="dropdown-item" href="/data/reddit"><i class="bi bi-reddit" aria-hidden="true"></i> My Reddit Data</a></li>
                <li><a class="dropdown-item" href="/data/domains"><i class="bi bi-globe" aria-hidden="true"></i> My Domains</a></li>
                <li><a class="dropdown-item" href="/data/blogs"><i class="bi bi-journal-richtext" aria-hidden="true"></i> My Blog Posts</a></li>
              </ul>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="devToolsDropdown" role="button"
                 data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-code-slash" aria-hidden="true"></i> Developer Tools
              </a>
              <ul class="dropdown-menu" aria-labelledby="devToolsDropdown">
                <li><a class="dropdown-item" href="/utilities/base64"><i class="bi bi-code" aria-hidden="true"></i> Base64 Encoder/Decoder</a></li>
                <li><a class="dropdown-item" href="/utilities/hash"><i class="bi bi-shield-lock" aria-hidden="true"></i> Hash Generator</a></li>
                <li><a class="dropdown-item" href="/utilities/uuid"><i class="bi bi-dice-6" aria-hidden="true"></i> UUID Generator</a></li>
                <li><a class="dropdown-item" href="/utilities/jwt"><i class="bi bi-key" aria-hidden="true"></i> JWT Decoder</a></li>
                <li><a class="dropdown-item" href="/utilities/qr"><i class="bi bi-qr-code" aria-hidden="true"></i> QR Code Generator</a></li>
                <li><a class="dropdown-item" href="/utilities/color"><i class="bi bi-palette" aria-hidden="true"></i> Color Converter</a></li>
                <li><a class="dropdown-item" href="/utilities/lorem"><i class="bi bi-text-paragraph" aria-hidden="true"></i> Lorem Ipsum</a></li>
                <li><a class="dropdown-item" href="/utilities/passwd"><i class="bi bi-shield-check" aria-hidden="true"></i> Password Generator</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="/tools/commit"><i class="bi bi-git" aria-hidden="true"></i> Git Commit Messages</a></li>
              </ul>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="personalToolsDropdown" role="button"
                 data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-tools" aria-hidden="true"></i> Personal Tools
              </a>
              <ul class="dropdown-menu" aria-labelledby="personalToolsDropdown">
                <li><a class="dropdown-item" href="/personal/todos"><i class="bi bi-check-square" aria-hidden="true"></i> Todo Manager</a></li>
                <li><a class="dropdown-item" href="/personal/notes"><i class="bi bi-journal-text" aria-hidden="true"></i> Note Manager</a></li>
                <li><a class="dropdown-item" href="/services/url"><i class="bi bi-link" aria-hidden="true"></i> URL Shortener</a></li>
              </ul>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="funDropdown" role="button"
                 data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-emoji-smile" aria-hidden="true"></i> Fun
              </a>
              <ul class="dropdown-menu" aria-labelledby="funDropdown">
                <li><a class="dropdown-item" href="/fun/jokes"><i class="bi bi-emoji-laughing" aria-hidden="true"></i> Joke Generator</a></li>
                <li><a class="dropdown-item" href="/fun/anime"><i class="bi bi-chat-quote" aria-hidden="true"></i> Anime Quotes</a></li>
              </ul>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="informationDropdown" role="button"
                 data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-info-circle" aria-hidden="true"></i> Information
              </a>
              <ul class="dropdown-menu" aria-labelledby="informationDropdown">
                <li><h6 class="dropdown-header">Statistics & Data</h6></li>
                <li><a class="dropdown-item" href="/data/covid"><i class="bi bi-virus" aria-hidden="true"></i> COVID-19 Statistics</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><h6 class="dropdown-header">Local Information</h6></li>
                <li><a class="dropdown-item" href="/data/closings"><i class="bi bi-building" aria-hidden="true"></i> School Closings</a></li>
                <li><a class="dropdown-item" href="/data/timezones"><i class="bi bi-clock" aria-hidden="true"></i> World Time Zones</a></li>
              </ul>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="/auth">
                <i class="bi bi-person-lock" aria-hidden="true"></i> Account
              </a>
            </li>
          </ul>

          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="/version">
                <i class="bi bi-info-circle" aria-hidden="true"></i> API Info
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/now-sh/api" target="_blank" rel="noopener noreferrer">
                <i class="bi bi-github" aria-hidden="true"></i> GitHub
                <span class="visually-hidden">(opens in new tab)</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content" class="container py-5">
      <%- body %>
    </main>

    <!-- Footer -->
    <footer class="footer bg-dark text-light py-5 mt-5">
      <div class="container text-center">
        <!-- Social Links -->
        <div class="mb-4">
          <a href="https://github.com/now-sh/api" target="_blank" rel="noopener noreferrer"
             class="text-light text-decoration-none" aria-label="GitHub Profile">
            <img alt="GitHub" src="/images/github.png" width="32" height="32" loading="lazy">
          </a>
        </div>

        <!-- Copyright -->
        <p class="mb-3">
          Copyright 1999 - 2026<br>
          <a href="https://casjay.pro" target="_blank" rel="noopener noreferrer" class="text-info">Casjays Developments</a>
          and
          <a href="https://malaks-us.github.io/jason" target="_blank" rel="noopener noreferrer" class="text-info">Jason M. Hempstead-Malak</a>
        </p>

        <p class="mb-3">
          Hosting by <a href="https://casjay.pro/hosting" target="_blank" rel="noopener noreferrer" class="text-info">Casjays Developments: Hosting</a><br>
          Powered by <a href="https://casjaysdev.pro" target="_blank" rel="noopener noreferrer" class="text-info">CasjaysDev.pro</a>
        </p>

        <!-- Support Links -->
        <div class="mb-4">
          <a href="https://www.patreon.com/casjay" target="_blank" rel="noopener noreferrer" class="me-2">
            <img src="/images/patreon.svg" alt="Support on Patreon" width="100" height="24" loading="lazy">
          </a>
          <a href="https://www.paypal.me/casjaysdev" target="_blank" rel="noopener noreferrer">
            <img src="/images/paypal.svg" alt="Donate via PayPal" width="100" height="24" loading="lazy">
          </a>
        </div>

        <!-- Links -->
        <nav aria-label="Footer navigation" class="mb-4">
          <a href="https://help.casjay.pro" target="_blank" rel="noopener noreferrer" class="text-info">Support</a>
          <span class="mx-2">|</span>
          <a href="https://bugs.casjay.pro" target="_blank" rel="noopener noreferrer" class="text-info">Bugs</a>
          <span class="mx-2">|</span>
          <a href="https://uptime.servicestat.us" target="_blank" rel="noopener noreferrer" class="text-info">Status</a>
        </nav>

        <p class="small text-muted mb-3">
          <a href="https://casjaysdev.pro/policy/" target="_blank" rel="noopener noreferrer" class="text-muted">Privacy Policy</a>
        </p>

        <p class="small text-muted">
          Made with <span aria-label="love">ðŸ’œ</span> by
          <a href="https://github.com/casjay" target="_blank" rel="noopener noreferrer" class="text-muted">Jason M. Hempstead (Casjay)</a>
        </p>
      </div>
    </footer>

    <!-- Bootstrap JavaScript (bundle includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"
            defer></script>

    <!-- Common Utilities (must load first) -->
    <script src="/js/utils.js" defer></script>

    <!-- Global copy functionality -->
    <script src="/js/copy.js" defer></script>

    <!-- Authentication helper -->
    <script src="/js/auth-cookies.js" defer></script>

    <!-- Enhanced utility forms handler -->
    <script src="/js/utility-forms-v2.js" defer></script>

    <!-- Custom Page JavaScript -->
    <%- locals.customScripts || '' %>

    <!-- Global Modal Component -->
    <%- include('../partials/modal') %>
  </body>
</html>
